{"ast":null,"code":"import _slicedToArray from\"C:/Myproject/flixy/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import'../assets/style.css/Button.css';import{jsx as _jsx}from\"react/jsx-runtime\";var Button=function Button(_ref){var title=_ref.title,Image=_ref.Image,video=_ref.video,id=_ref.id;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),watchlaterfunctionality=_useState2[0],SetWatchlaterfunctionality=_useState2[1];var storageKey=\"functionality_\".concat(id);var Watchlater=function Watchlater(){var existingData=JSON.parse(localStorage.getItem(\"Myarray\"))||[];if(watchlaterfunctionality){existingData.push({id:\"\".concat(id),Name:\"\".concat(title),Image:\"\".concat(Image),video:\"\".concat(video)});}else{var updatedData=existingData.filter(function(item){return item.title===title;});existingData.pop(updatedData);}SetWatchlaterfunctionality(!watchlaterfunctionality);localStorage.setItem(\"Myarray\",JSON.stringify(existingData));localStorage.setItem(storageKey,JSON.stringify(!watchlaterfunctionality));};useEffect(function(){// Retrieve the stored value from localStorage on component mount\nvar storedFunctionality=JSON.parse(localStorage.getItem(storageKey));if(storedFunctionality!==null){SetWatchlaterfunctionality(storedFunctionality);}},[storageKey]);// Include storageKey in the dependency array\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:Watchlater,className:\"watchlaterbutton\",children:watchlaterfunctionality?\"watch later\":\"remove\"})});};export default Button;","map":{"version":3,"names":["React","useState","useEffect","Button","title","Image","video","id","watchlaterfunctionality","SetWatchlaterfunctionality","storageKey","Watchlater","existingData","JSON","parse","localStorage","getItem","push","Name","updatedData","filter","item","pop","setItem","stringify","storedFunctionality"],"sources":["C:/Myproject/flixy/my-app/src/components/Button.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState ,useEffect} from \"react\";\r\nimport '../assets/style.css/Button.css'\r\n\r\nconst Button = ({ title, Image, video, id }) => {\r\n  const [watchlaterfunctionality, SetWatchlaterfunctionality] = useState(true);\r\n  const storageKey = `functionality_${id}`;\r\n \r\n  const Watchlater = () => {\r\n\r\n    const existingData = JSON.parse(localStorage.getItem(\"Myarray\")) || [];\r\n\r\n    if (watchlaterfunctionality) {\r\n      existingData.push({\r\n        id: `${id}`,\r\n        Name: `${title}`,\r\n        Image: `${Image}`,\r\n        video: `${video}`,\r\n      });\r\n    } else {\r\n\r\n     const updatedData = existingData.filter(item =>  item.title === title);\r\n     existingData.pop(updatedData);\r\n    }\r\n    SetWatchlaterfunctionality(!watchlaterfunctionality);\r\n    localStorage.setItem(\"Myarray\", JSON.stringify(existingData));\r\n    localStorage.setItem(storageKey, JSON.stringify(!watchlaterfunctionality));\r\n \r\n  };\r\n  useEffect(() => {\r\n    // Retrieve the stored value from localStorage on component mount\r\n    const storedFunctionality = JSON.parse(localStorage.getItem(storageKey));\r\n    if (storedFunctionality !== null) {\r\n      SetWatchlaterfunctionality(storedFunctionality);\r\n    }\r\n\r\n  }, [storageKey]); // Include storageKey in the dependency array\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <button onClick={Watchlater} className=\"watchlaterbutton\">\r\n        {watchlaterfunctionality ? \"watch later\" : \"remove\"} \r\n      \r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n"],"mappings":"+GAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAC1C,MAAO,gCAAgC,4CAEvC,GAAMC,OAAM,CAAG,QAATA,OAAM,MAAoC,IAA9BC,MAAK,MAALA,KAAK,CAAEC,KAAK,MAALA,KAAK,CAAEC,KAAK,MAALA,KAAK,CAAEC,EAAE,MAAFA,EAAE,CACvC,cAA8DN,QAAQ,CAAC,IAAI,CAAC,wCAArEO,uBAAuB,eAAEC,0BAA0B,eAC1D,GAAMC,WAAU,yBAAoBH,EAAE,CAAE,CAExC,GAAMI,WAAU,CAAG,QAAbA,WAAU,EAAS,CAEvB,GAAMC,aAAY,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAI,EAAE,CAEtE,GAAIR,uBAAuB,CAAE,CAC3BI,YAAY,CAACK,IAAI,CAAC,CAChBV,EAAE,WAAKA,EAAE,CAAE,CACXW,IAAI,WAAKd,KAAK,CAAE,CAChBC,KAAK,WAAKA,KAAK,CAAE,CACjBC,KAAK,WAAKA,KAAK,CACjB,CAAC,CAAC,CACJ,CAAC,IAAM,CAEN,GAAMa,YAAW,CAAGP,YAAY,CAACQ,MAAM,CAAC,SAAAC,IAAI,QAAKA,KAAI,CAACjB,KAAK,GAAKA,KAAK,GAAC,CACtEQ,YAAY,CAACU,GAAG,CAACH,WAAW,CAAC,CAC9B,CACAV,0BAA0B,CAAC,CAACD,uBAAuB,CAAC,CACpDO,YAAY,CAACQ,OAAO,CAAC,SAAS,CAAEV,IAAI,CAACW,SAAS,CAACZ,YAAY,CAAC,CAAC,CAC7DG,YAAY,CAACQ,OAAO,CAACb,UAAU,CAAEG,IAAI,CAACW,SAAS,CAAC,CAAChB,uBAAuB,CAAC,CAAC,CAE5E,CAAC,CACDN,SAAS,CAAC,UAAM,CACd;AACA,GAAMuB,oBAAmB,CAAGZ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACN,UAAU,CAAC,CAAC,CACxE,GAAIe,mBAAmB,GAAK,IAAI,CAAE,CAChChB,0BAA0B,CAACgB,mBAAmB,CAAC,CACjD,CAEF,CAAC,CAAE,CAACf,UAAU,CAAC,CAAC,CAAE;AAGlB,mBACE,kCACE,eAAQ,OAAO,CAAEC,UAAW,CAAC,SAAS,CAAC,kBAAkB,UACtDH,uBAAuB,CAAG,aAAa,CAAG,QAAQ,EAE5C,EACL,CAEV,CAAC,CAED,cAAeL,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}